var testTool={b64EncodeUnicode:function(str){return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,(function toSolidBytes(match,p1){return String.fromCharCode("0x"+p1)})))},b64DecodeUnicode:function(str){return decodeURIComponent(atob(str).split("").map((function(c){return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)})).join(""))},isMobileDevice:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)},getMeetingConfig:function(){return{mn:parseInt(document.getElementById("meeting_number").value),name:testTool.b64EncodeUnicode(document.getElementById("display_name").value),pwd:document.getElementById("meeting_pwd").value,role:parseInt(document.getElementById("meeting_role").value,10),email:testTool.b64EncodeUnicode(document.getElementById("meeting_email").value),lang:document.getElementById("meeting_lang").value,signature:"",china:document.getElementById("meeting_china").value}},createZoomNode:function(id,url){const zoomIframe=document.createElement("iframe");zoomIframe.id=id,zoomIframe.sandbox="allow-forms allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox",zoomIframe.allow="microphone; camera; fullscreen;",zoomIframe.src=url,zoomIframe.style="","function"==typeof document.body.append?document.body.append(zoomIframe):document.body.appendChild(zoomIframe)},getCurrentDomain:function(){return window.location.protocol+"//"+window.location.hostname+":"+window.location.port},parseQuery:function(){return function(){for(var href=window.location.href,queryString=href.substr(href.indexOf("?")),query={},pairs=("?"===queryString[0]?queryString.substr(1):queryString).split("&"),i=0;i<pairs.length;i+=1){var pair=pairs[i].split("=");query[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1]||"")}return query}()},serialize:function(obj){var keyOrderArr=["name","mn","email","pwd","role","lang","signature","china"];Array.intersect=function(){for(var result=new Array,obj={},i=0;i<arguments.length;i++)for(var j=0;j<arguments[i].length;j++){var str=arguments[i][j];obj[str]?(obj[str]++,obj[str]==arguments.length&&result.push(str)):obj[str]=1}return result},Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(obj){var newArr;return this.filter((function(el){return el===obj})).length>0}});var tmpInterArr=Array.intersect(keyOrderArr,Object.keys(obj)),sortedObj=[],tmpSortResult;return keyOrderArr.forEach((function(key){tmpInterArr.includes(key)&&sortedObj.push([key,obj[key]])})),Object.keys(obj).sort().forEach((function(key){tmpInterArr.includes(key)||sortedObj.push([key,obj[key]])})),function(sortedObj){var str=[];for(var p in sortedObj)void 0!==sortedObj[p][1]&&str.push(encodeURIComponent(sortedObj[p][0])+"="+encodeURIComponent(sortedObj[p][1]));return str.join("&")}(sortedObj)},detectOS:function(){var sUserAgent=navigator.userAgent,isWin="Win32"===navigator.platform||"Windows"===navigator.platform,isMac="Mac68K"===navigator.platform||"MacPPC"===navigator.platform||"Macintosh"===navigator.platform||"MacIntel"===navigator.platform,isUnix,isLinux;if(isMac)return"Mac";if("X11"===navigator.platform&&!isWin&&!isMac)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return"Linux";if(isWin){var isWin2K,isWinXP,isWin2003,isWinVista,isWin7,isWin10;if(sUserAgent.indexOf("Windows NT 5.0")>-1||sUserAgent.indexOf("Windows 2000")>-1)return"Win2000";if(sUserAgent.indexOf("Windows NT 5.1")>-1||sUserAgent.indexOf("Windows XP")>-1)return"WinXP";if(sUserAgent.indexOf("Windows NT 5.2")>-1||sUserAgent.indexOf("Windows 2003")>-1)return"Win2003";if(sUserAgent.indexOf("Windows NT 6.0")>-1||sUserAgent.indexOf("Windows Vista")>-1)return"WinVista";if(sUserAgent.indexOf("Windows NT 6.1")>-1||sUserAgent.indexOf("Windows 7")>-1)return"Win7";if(sUserAgent.indexOf("Windows NT 10")>-1||sUserAgent.indexOf("Windows 10")>-1)return"Win10"}return"other"},detectIE:function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident;if(msie>0)return"IE"+parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(ua.indexOf("Trident/")>0){var rv=ua.indexOf("rv:");return"IE"+parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&"Edge"+parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)},getBrowserInfo:function(){var agent=navigator.userAgent.toLowerCase(),regStr_ff=/firefox\/[\d.]+/gi,regStr_chrome=/chrome\/[\d.]+/gi,regStrChrome2=/ipad; cpu os (\d+_\d+)/gi,regStr_saf=/version\/[\d.]+/gi,regStr_saf2=/safari\/[\d.]+/gi,regStr_edg=/edg\/[\d.]+/gi;if(agent.indexOf("firefox")>0)return agent.match(regStr_ff);if(agent.indexOf("safari")>0&&agent.indexOf("chrome")<0){var tmpInfo="safari/unknow",tmpInfo2;return tmpInfo=agent.match(regStr_saf),tmpInfo2=agent.match(regStr_saf2),tmpInfo&&(tmpInfo=tmpInfo.toString().replace("version","safari")),tmpInfo2&&(tmpInfo=tmpInfo2.toString().replace("version","safari")),tmpInfo}var tmpIsIE=testTool.detectIE();return tmpIsIE||(agent.indexOf("chrome")>0?agent.match(regStr_chrome):"other")},getRandomInt:function(max){return Math.floor(Math.random()*Math.floor(max))},extractHostname:function(url){var hostname;return hostname=(hostname=(hostname=url.indexOf("//")>-1?url.split("/")[2]:url.split("/")[0]).split(":")[0]).split("?")[0]},getDomainName:function(hostName){return hostName.substring(hostName.lastIndexOf(".",hostName.lastIndexOf(".")-1)+1)},setCookie:function(cname,cvalue){var exdays=1,d=new Date;d.setTime(d.getTime()+864e5);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"},getCookie:function(cname){for(var name=cname+"=",decodedCookie,ca=decodeURIComponent(document.cookie).split(";"),i=0;i<ca.length;i+=1){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(name))return c.substring(name.length,c.length)}return""},deleteAllCookies:function(){for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie=cookies[i],eqPos=cookie.indexOf("="),name=eqPos>-1?cookie.substr(0,eqPos):cookie;document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}};window.testTool=testTool;